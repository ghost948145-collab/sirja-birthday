<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy Birthday Sirja ğŸ‰</title>

<style>
body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg, #ffd6e8, #c8e7ff);
  text-align: center;
  overflow-x: hidden;
}

.container { padding: 40px 20px; }

.card {
  background: white;
  border-radius: 20px;
  padding: 35px;
  max-width: 950px;
  margin: auto;
  box-shadow: 0 10px 25px rgba(0,0,0,0.15);
}

h1 { color: #ff4f9a; font-size: 2.8em; }

button {
  background: #ff4f9a;
  color: white;
  border: none;
  padding: 14px 26px;
  border-radius: 30px;
  margin: 10px;
  font-size: 1em;
  cursor: pointer;
}
button:hover { background: #e8438c; }

/* Animations */
.fade-slide {
  animation: fadeSlide 0.6s ease;
}
@keyframes fadeSlide {
  from { opacity: 0; transform: translateX(40px); }
  to { opacity: 1; transform: translateX(0); }
}

/* Emoji popup */
.emoji {
  font-size: 4rem;
  position: fixed;
  left: 50%;
  top: 40%;
  transform: translateX(-50%);
  animation: pop 2s ease forwards;
  z-index: 999;
}
@keyframes pop {
  0% { transform: scale(0.5) translateX(-50%); opacity: 0; }
  20% { transform: scale(1.2) translateX(-50%); opacity: 1; }
  100% { transform: scale(1) translateX(-50%); opacity: 0; }
}

/* Page 3 Gallery */
.bday-title {
  font-size: 3em;
  margin-bottom: 10px;
}
.bday-sub {
  font-size: 1.4em;
  margin-bottom: 25px;
}

.gallery {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 15px;
  margin-top: 20px;
}
.gallery img {
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 18px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.25);
}

/* Confetti */
.confetti {
  position: fixed;
  width: 10px;
  height: 10px;
  top: -10px;
  animation: fall linear forwards;
}
@keyframes fall {
  to {
    transform: translateY(110vh) rotate(360deg);
    opacity: 0;
  }
}

/* Final page */
#page-final p {
  font-size: 1.6em;
  line-height: 1.9;
}
</style>
</head>

<body>

<!-- MUSIC -->
<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_0b9f1a6b62.mp3?filename=happy-birthday-to-you-piano-version-13976.mp3" type="audio/mpeg">
</audio>

<div class="container">

<!-- PAGE 1 -->
<div id="page-countdown" class="card">
  <h2>ğŸŒ™ Something special is comingâ€¦</h2>
  <div id="countdown">Loadingâ€¦</div>
</div>

<!-- PAGE 2 -->
<div id="page-quiz" class="card" style="display:none;">
  <h2 id="question"></h2>
  <div id="options"></div>
</div>

<!-- PAGE 3 -->
<div id="page-birthday" class="card" style="display:none;">
  <div class="bday-title">ğŸ‰ Happy Birthday Sirja ğŸ‚</div>
  <div class="bday-sub">Today is all about YOU ğŸ’–âœ¨</div>

  <div class="gallery">
    <img src="images/6237745613357386540.jpg">
    <img src="images/6237745613357386541.jpg">
    <img src="images/6237745613357386542.jpg">
    <img src="images/6237745613357386543.jpg">
    <img src="images/6237745613357386544.jpg">
  </div>
</div>

<!-- PAGE 4 -->
<div id="page-final" class="card" style="display:none;">
  <p>
    From online chats to endless calls,<br>
    laughing at everything and saying <b>â€œokayyyyyyyyâ€</b> ğŸ˜„<br><br>
    You make life brighter just by being you ğŸ’•<br><br>
    Stay happy, stay smiling, always ğŸŒ¸<br><br>
    <strong>â€” With all my love,<br>PAVAN ğŸ’–</strong>
  </p>
</div>

</div>

<script>
const music = document.getElementById("bgMusic");
const countdownEl = document.getElementById("countdown");

/* COUNTDOWN */
const target = new Date();
target.setTime(Date.now() + 60000);

const timer = setInterval(() => {
  const diff = target - Date.now();
  if (diff <= 0) {
    clearInterval(timer);
    document.getElementById("page-countdown").style.display="none";
    document.getElementById("page-quiz").style.display="block";
    showQuestion();
    return;
  }
  const h = Math.floor((diff/(1000*60*60))%24);
  const m = Math.floor((diff/(1000*60))%60);
  const s = Math.floor((diff/1000)%60);
  countdownEl.innerHTML = `${h}h ${m}m ${s}s`;
}, 1000);

/* QUIZ */
const quiz = [
  { q:"How did we meet?", options:["School","College","Online","Party"], answer:2 },
  { q:"What do I do all the time?", options:["Sleep","Laugh at everything","Get angry","Ignore"], answer:1 },
  { q:"Our favorite thing?", options:["Studying","Short texts","Long fun calls","Silence"], answer:2 }
];

let current = 0;
let musicStarted = false;

function showEmoji(char) {
  const e = document.createElement("div");
  e.className = "emoji";
  e.innerText = char;
  document.body.appendChild(e);
  setTimeout(() => e.remove(), 2000);
}

function showQuestion() {
  const box = document.getElementById("page-quiz");
  box.classList.remove("fade-slide");
  void box.offsetWidth;
  box.classList.add("fade-slide");

  const q = quiz[current];
  document.getElementById("question").innerText = q.q;
  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";

  q.options.forEach((opt, i) => {
    const btn = document.createElement("button");
    btn.innerText = opt;
    btn.onclick = () => {

      // ğŸ¶ MUSIC STARTS HERE â€” GUARANTEED
      if (!musicStarted) {
        music.play().catch(()=>{});
        musicStarted = true;
      }

      if (i === q.answer) {
        showEmoji("ğŸ˜„");
      } else {
        showEmoji("ğŸ˜¢");
      }

      setTimeout(() => {
        current++;
        current < quiz.length ? showQuestion() : endQuiz();
      }, 2000);
    };
    optionsDiv.appendChild(btn);
  });
}

function endQuiz() {
  document.getElementById("page-quiz").style.display="none";
  document.getElementById("page-birthday").style.display="block";
  launchConfetti();

  setTimeout(() => {
    document.getElementById("page-birthday").style.display="none";
    document.getElementById("page-final").style.display="block";
  }, 6500);
}

/* CONFETTI */
function launchConfetti() {
  for (let i = 0; i < 220; i++) {
    const c = document.createElement("div");
    c.className = "confetti";
    c.style.left = Math.random()*100+"vw";
    c.style.background = `hsl(${Math.random()*360},100%,60%)`;
    c.style.animationDuration = (Math.random()*3+2)+"s";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),6500);
  }
}
</script>

</body>
</html>
